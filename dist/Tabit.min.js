/*!
 * Tabit - Just tabs. Make it where you want.
 * @version v1.1.2
 * @link https://github.com/andrey-hohlov/tabit
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Tabit=e():t.Tabit=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(2),r=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!s(e))throw new TypeError("`new Tabit` requires a DOM element as its first argument.");e._tabit&&e._tabit.destroy();var a=o.btnSelector,r=void 0===a?"a":a,c=o.contentSelector,l=void 0===c?"div":c,u=o.btnAttr,v=void 0===u?"href":u,h=o.contentAttr,f=void 0===h?"id":h,b=o.btnActiveClass,d=void 0===b?null:b,y=o.contentActiveClass,p=void 0===y?null:y,g=o.event,_=void 0===g?"click":g,m=o.active,T=void 0===m?0:m,A=o.toggleDisplay,k=void 0===A||A,E=o.closable,S=void 0!==E&&E,w=o.beforeInit,C=void 0===w?null:w,x=o.onInit,N=void 0===x?null:x,D=o.beforeChange,j=void 0===D?null:D,I=o.onChange,L=void 0===I?null:I,H=o.onDestroy,M=void 0===H?null:H;this.settings={btnSelector:r,contentSelector:l,btnAttr:v,contentAttr:f,btnActiveClass:d,contentActiveClass:p,event:_,active:T,toggleDisplay:k,closable:S,beforeInit:C,onInit:N,beforeChange:j,onChange:L,onDestroy:M},this._checkSettings(),this.elem=e,this.tabs=[],this.activeTab=null;var O=this.elem.querySelectorAll(this.settings.btnSelector);O=Array.prototype.slice.call(O);var q=this.elem.querySelectorAll(this.settings.contentSelector);q=Array.prototype.slice.call(q);var z=function(t){var e=t.getAttribute(v),n=!1;return!!e&&("href"===v&&(e=e.replace(/^#/g,"")),q.some(function(t,i,o){return t.getAttribute(f)===e&&(n=o[i],o.splice(i,1),n)}),n)};return O.forEach(function(t){var e=t,i=z(t);i&&n.tabs.push({btnNode:e,contentNode:i})}),this._eventHandlerShim=function(t){n._eventHandler(t)},this._bindEvents(),C&&"function"==typeof C&&C(this),this._initState(),this.elem._tabit=this,N&&"function"==typeof N&&N(this),this.elem._tabit}return o(t,[{key:"setActive",value:function(t){var e=void 0;"number"==typeof t?e=this.tabs[t]:this.tabs.indexOf(t)!==-1&&(e=t),e&&this._runTabEvent(null,e)}},{key:"getActive",value:function(){return this.activeTab}},{key:"destroy",value:function(){var t=this,e=this.settings.onDestroy;this._unbindEvents();var n=this.settings.btnActiveClass,i=this.settings.contentActiveClass,o=this.settings.toggleDisplay;this.tabs.forEach(function(t){n&&t.btnNode.classList.remove(n),i&&t.contentNode.classList.remove(i),o&&(t.contentNode.style.display="")}),delete this.elem._tabit;var s=Object.keys(this);s.forEach(function(e){delete t[e]}),e&&"function"==typeof e&&e()}},{key:"next",value:function(){this._paginate()}},{key:"prev",value:function(){this._paginate(!0)}},{key:"_checkSettings",value:function(){var t=this;["beforeInit","onInit","beforeChange","onChange","onDestroy"].forEach(function(e){if(t.settings[e]&&"function"!=typeof t.settings[e])throw new TypeError("`"+e+"` parameter must be a function.")})}},{key:"_eventHandler",value:function(t){for(var e=this.tabs,n=t.target,i=void 0;n!==this.elem&&!i;){if(a(n,this.settings.btnSelector))for(var o=0,s=e.length;o<s;o+=1)if(n===e[o].btnNode){i=e[o];break}n=n.parentNode}return i?this._runTabEvent(t,i):null}},{key:"_runTabEvent",value:function(t,e){if(e){t&&t.preventDefault();var n=e,i=this.activeTab,o=this.settings.beforeChange,s=this.settings.onChange,a=this.settings.closable,r=n===i;r&&!a||(o&&"function"==typeof o&&o(i,n,this),r&&a?(this._hideTab(i),this.activeTab=null):(this._hideTab(i),this._showTab(n)),s&&"function"==typeof s&&s(n,this))}}},{key:"_bindEvents",value:function(){this._setEvents()}},{key:"_unbindEvents",value:function(){this._setEvents(!0)}},{key:"_setEvents",value:function(t){var e=this,n=this.settings.event,i=t?"removeEventListener":"addEventListener";"string"==typeof n?this.elem[i](n,this._eventHandlerShim):Array.isArray(n)&&n.forEach(function(t){e.elem[i](t,e._eventHandlerShim)})}},{key:"_initState",value:function(){var t=this.settings.active;this.settings.toggleDisplay&&this.tabs.forEach(function(e,n){n!==t&&(e.contentNode.style.display="none")}),t>=0&&this._runTabEvent(null,this.tabs[t])}},{key:"_hideTab",value:function(t){this._toggleTab(t,!0)}},{key:"_showTab",value:function(t){this._toggleTab(t)}},{key:"_toggleTab",value:function(t,e){if(t){var n=e?"remove":"add",i=this.settings.btnActiveClass,o=this.settings.contentActiveClass;this.settings.toggleDisplay&&(t.contentNode.style.display=e?"none":""),i&&t.btnNode.classList[n](i),o&&t.contentNode.classList[n](o),e||(this.activeTab=t)}}},{key:"_paginate",value:function(t){if(this.activeTab){var e=this.tabs.indexOf(this.activeTab),n=this.tabs.length-1,i=void 0,o=void 0,s=void 0;t?(s=-1,o=0===e):(s=1,o=e===n),i=o?t?n:0:e+s,this.setActive(i)}}}]),t}();t.exports=r},function(t,e){function n(t){return!(!t||"object"!=typeof t)&&("object"==typeof window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}t.exports=n},function(t,e){"use strict";function n(t,e){var n=window.Element.prototype,i=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!t||1!==t.nodeType)return!1;var o=t.parentNode;if(i)return i.call(t,e);for(var s=o.querySelectorAll(e),a=s.length,r=0;r<a;r++)if(s[r]===t)return!0;return!1}t.exports=n}])});