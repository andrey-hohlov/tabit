!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Tabit=e():t.Tabit=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!t._isDom(e))throw new TypeError("`new Tabit` requires a DOM element as its first argument.");e._tabit&&e._tabit.destroy();var s=o.buttonSelector,a=void 0===s?"a":s,r=o.contentSelector,l=void 0===r?"div":r,c=o.buttonAttribute,u=void 0===c?"href":c,h=o.contentAttribute,v=void 0===h?"id":h,f=o.buttonActiveClass,b=void 0===f?null:f,d=o.contentActiveClass,y=void 0===d?null:d,p=o.event,g=void 0===p?"click":p,_=o.activeIndex,m=void 0===_?0:_,T=o.toggleDisplay,k=void 0===T||T,S=o.closable,A=void 0!==S&&S,E=o.beforeInit,w=void 0===E?null:E,x=o.onInit,C=void 0===x?null:x,D=o.beforeChange,I=void 0===D?null:D,j=o.onChange,M=void 0===j?null:j,L=o.onDestroy,H=void 0===L?null:L;this.settings={buttonSelector:a,contentSelector:l,buttonAttribute:u,contentAttribute:v,buttonActiveClass:b,contentActiveClass:y,event:g,activeIndex:m,toggleDisplay:k,closable:A,beforeInit:w,onInit:C,beforeChange:I,onChange:M,onDestroy:H},this._checkSettings(),this.element=e,this.tabs=[],this._activeTab=null;var N=this.element.querySelectorAll(this.settings.buttonSelector);N=Array.prototype.slice.call(N);var O=this.element.querySelectorAll(this.settings.contentSelector);O=Array.prototype.slice.call(O);var q=function(t){var e=t.getAttribute(u),n=!1;return!!e&&("href"===u&&(e=e.replace(/^#/g,"")),O.some(function(t,i,o){return t.getAttribute(v)===e&&(n=o[i],o.splice(i,1),n)}),n)};return N.forEach(function(t){var e=q(t);e&&n.tabs.push({button:t,content:e})}),this._eventHandlerShim=function(t){n._eventHandler(t)},this._bindEvents(),w&&"function"==typeof w&&w.call(this,this),this._initState(),this.element._tabit=this,C&&"function"==typeof C&&C.call(this,this),this.element._tabit}return s(t,[{key:"setActiveTab",value:function(t){var e=this.tabs[t];return!!e&&(this._runTabEvent(null,e),!0)}},{key:"getActiveTab",value:function(){return this._activeTab}},{key:"getActiveTabIndex",value:function(){return this.tabs.indexOf(this._activeTab)}},{key:"getTab",value:function(t){return this.tabs[t]}},{key:"next",value:function(){this._paginate()}},{key:"prev",value:function(){this._paginate(!0)}},{key:"destroy",value:function(){var t=this,e=this.settings.onDestroy;this._unbindEvents();var n=this.settings.buttonActiveClass,i=this.settings.contentActiveClass,o=this.settings.toggleDisplay;this.tabs.forEach(function(t){n&&t.button.classList.remove(n),i&&t.content.classList.remove(i),o&&(t.content.style.display="")}),delete this.element._tabit;var s=Object.keys(this);s.forEach(function(e){delete t[e]}),e&&"function"==typeof e&&e()}},{key:"_checkSettings",value:function(){var t=this;["beforeInit","onInit","beforeChange","onChange","onDestroy"].forEach(function(e){if(t.settings[e]&&"function"!=typeof t.settings[e])throw new TypeError("`"+e+"` parameter must be a function.")})}},{key:"_eventHandler",value:function(e){for(var n=this.tabs,i=e.target,o=void 0;i!==this.element&&!o;){if(t._domMatches(i,this.settings.buttonSelector))for(var s=0,a=n.length;s<a;s+=1)if(i===n[s].button){o=n[s];break}i=i.parentNode}return o?this._runTabEvent(e,o):null}},{key:"_runTabEvent",value:function(t,e){if(e){t&&t.preventDefault();var n=e,i=this._activeTab,o=this.settings.beforeChange,s=this.settings.onChange,a=this.settings.closable,r=n===i;r&&!a||(o&&"function"==typeof o&&o.call(this,i,n,this),r&&a?(this._hideTab(i),this._activeTab=null):(this._hideTab(i),this._showTab(n)),s&&"function"==typeof s&&o.call(this,n,this))}}},{key:"_bindEvents",value:function(){this._setEvents()}},{key:"_unbindEvents",value:function(){this._setEvents(!0)}},{key:"_setEvents",value:function(t){var e=this,n=this.settings.event,i=t?"removeEventListener":"addEventListener";"string"==typeof n?this.element[i](n,this._eventHandlerShim):Array.isArray(n)&&n.forEach(function(t){e.element[i](t,e._eventHandlerShim)})}},{key:"_initState",value:function(){var t=this.settings.activeIndex;this.settings.toggleDisplay&&this.tabs.forEach(function(e,n){n!==t&&(e.content.style.display="none")}),t>=0&&this._runTabEvent(null,this.tabs[t])}},{key:"_hideTab",value:function(t){this._toggleTab(t,!0)}},{key:"_showTab",value:function(t){this._toggleTab(t)}},{key:"_toggleTab",value:function(t,e){if(t){var n=e?"remove":"add",i=this.settings.buttonActiveClass,o=this.settings.contentActiveClass;this.settings.toggleDisplay&&(t.content.style.display=e?"none":""),i&&t.button.classList[n](i),o&&t.content.classList[n](o),e||(this._activeTab=t)}}},{key:"_paginate",value:function(t){if(this._activeTab){var e=this.tabs.indexOf(this._activeTab),n=this.tabs.length-1,i=void 0,o=void 0,s=void 0;t?(s=-1,o=0===e):(s=1,o=e===n),i=o?t?n:0:e+s,this.setActiveTab(i)}}}],[{key:"_domMatches",value:function(t,e){var n=window.Element.prototype,i=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!t||1!==t.nodeType)return!1;var o=t.parentNode;if(i)return i.call(t,e);for(var s=o.querySelectorAll(e),a=s.length,r=0;r<a;r++)if(s[r]===t)return!0;return!1}},{key:"_isDom",value:function(t){return!(!t||"object"!==(void 0===t?"undefined":o(t)))&&("object"===("undefined"==typeof window?"undefined":o(window))&&"object"===o(window.Node)?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}}]),t}();t.exports=a}])});