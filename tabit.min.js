/*!
 * Tab it! - just tabs. Make it where you want.
 * https://github.com/andrey-hohlov/tabit
 * @license MIT licensed
 */
!function(t){"use strict";function e(t,e){this.defaults={tabSelector:"a",contentSelector:"div",tabAttr:"href",contentAttr:"id",tabActiveClass:"is-active",contentActiveClass:"is-active",tabEvent:"click",active:1},this.options=this._extend({},this.defaults,e),this.elem=t,this.tabsArr=this.elem.querySelectorAll(this.options.tabSelector),this.contentArr=this.elem.querySelectorAll(this.options.contentSelector),this.tabsArr=Array.prototype.slice.call(this.tabsArr,0),this.contentArr=Array.prototype.slice.call(this.contentArr,0);var n=this;this.eventHandlerWrap=function(t){n.eventHandler(this,t)},this.fixOptions(),this.bindEvents(),this._trigger(this.tabsArr[parseInt(this.options.active)-1],this.options.tabEvent)}e.prototype.eventHandler=function(t,e){e.preventDefault();var n=this.options.tabAttr,s=this.options.tabActiveClass,i=this.options.contentActiveClass,o=this.options.before,r=this.options.after;if(!this._hasClass(t,s)){var a,c=t.getAttribute(n);"href"==n&&(c=c.replace("#","")),a=this.findContent(c),o&&"function"==typeof o&&o(t,a),this.clearActiveTab(),this.clearActiveContent(),this._addClass(t,s),a&&this._addClass(a,i),r&&"function"==typeof r&&r(t,a)}},e.prototype.bindEvents=function(){var t=this;this.tabsArr.forEach(function(e){e.addEventListener(t.options.tabEvent,t.eventHandlerWrap)})},e.prototype.unbindEvents=function(){var t=this;t.tabsArr.forEach(function(e){e.removeEventListener(t.options.tabEvent,t.eventHandlerWrap)})},e.prototype.clearActiveTab=function(){var t=this,e=t.options.tabActiveClass;Array.prototype.some.call(t.tabsArr,function(n){return t._hasClass(n,e)?(t._removeClass(n,e),!0):void 0})},e.prototype.findContent=function(t){var e=this,n=e.options.contentAttr,s=null;return Array.prototype.some.call(e.contentArr,function(e,i,o){return e.getAttribute(n)==t?(s=o[i],o[i]):void 0}),s},e.prototype.clearActiveContent=function(){var t=this,e=t.options.contentActiveClass;Array.prototype.some.call(t.contentArr,function(n){return t._hasClass(n,e)?(t._removeClass(n,e),!0):void 0})},e.prototype.destroy=function(){this.unbindEvents(),this.clearActiveTab(),this.clearActiveContent()},e.prototype.fixOptions=function(){var t=this.options.active,e=this.tabsArr.length;t>e&&(this.options.active=1)},e.prototype._extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var s in n)n.hasOwnProperty(s)&&(t[s]="object"==typeof n[s]?this._extend(t[s],n[s]):n[s])}return t},e.prototype._removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},e.prototype._addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},e.prototype._hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.prototype._trigger=function(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:t.Tabit=e}(this);